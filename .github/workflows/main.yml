name: 部署 GitHub Pages
on:
  # 触发条件：推送到 main 分支时自动部署（可改为你的目标分支，如 master）
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      # 1. 拉取仓库代码
      - name:  checkout 代码
        uses: actions/checkout@v4

      # （可选）如果需要构建项目（如 Vue/React），添加这一步
      # - name: 安装依赖并构建
      #   run: |
      #     npm install
      #     npm run build  # 生成 dist 目录（根据你的构建命令修改）

      # 2. 将自定义目录（dist）推送到 gh-pages 分支
      - name: 部署到 GitHub Pages
        uses: peaceiris/actions-gh-pages@v4  # 成熟的部署插件
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}  # GitHub 自动提供的密钥（无需手动配置）
          publish_dir: ./dist  # 关键：指定要发布的自定义目录（改为你的目录，如 ./public、./build）
          # publish_branch: gh-pages  # 目标分支（默认是 gh-pages，可自定义）
